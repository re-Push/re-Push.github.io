---
layout: single
title:  "VI_editor"
---
# vi 편집기
## 구조
- 대기 모드, 입력 모드, command line 모드



## 저장과 종료
[root@localhost ~]# cp /etc/passwd aaa
cp: overwrite 'aaa'? y
[root@localhost ~]# which vi
/usr/bin/vi

	vi -> vim    원래  심볼릭 링크로 연결되어 
	vim 이 동작하는 것이 정상이지만  centos 8버전은
	각각 있어서  연습시 vim 으로 선택해서 사용
[root@localhost ~]# ls -l /usr/bin/vi
-rwxr-xr-x. 1 root root 1180488  6월 18  2020 /usr/bin/vi
[root@localhost ~]# which vim
/usr/bin/vim
[root@localhost ~]#  
[root@localhost ~]# vim  aaa
   ":" 은  command line 모드를 의미
:q 
:q!   <--- 강제로 종료 ( 보통 파일 수정 후 내용을 저장하지 않고 종료 할 때 사용)
:w 다른파일이름   <-- 다른 이름으로 저장
:wq  저장하고 종료
:x  저장하고 종료

대기모드에서  shift + zz (z 두번)  저장하고 종료

## 입력

	i a s o
	I A S O

i 커서가 있는 위치에서 바로 입력 
a 커서가 있는 문자 한칸 뒤에서 입력
s 커서가 위치한 문자를 하나 삭제하고 입력      ex) ns  여기서 n은 숫자   5s  커서위치 뒤로 다섯의 문자를 삭제 후 입력
o 커서가 위치한 라인의 아래로 공백 라인을 확보하고 입력

I 커서가 있는 라인의 가장 앞으로 이동 후 입력
A 커서가 있는 라인의 가장 뒤로 이동 후 입력
S 커서가 위치한 라인 하나를 삭제하고 입력
O 커서가 위치한 라인의 위로 공백 라인을 확보하고 입력

## 복사 붙여넣기
	[주의 : 복사 잘라내기 붙여넣기 삭제 는 모두 대기모드 진행한다.]

	yank y	------>  이동 ---> p paste
					nymw    (n,m 은 숫자  곱하기로 이루어진다.)

	yw  단어를 복사		1y1w ==1x1 yw      2y3w == 6yw
	yy  라인을 복사		5yy  현재 커서가 있는 라인을 포함하여 아래로 5라인을 복사
	y^  커서가 있는 앞쪽으로 복사
	y$  커서가 있는 뒤쪽으로 복사
	yH  커서가 있는 라인 부터 화면에 보이는 윗 부분 까지 복사
	yL  커서가 있는 라인 부터 화면에 보이는 아랫 부분 까지 복사
	ygg 커서가 있는 라인 부터 파일의 가장 윗 부분 까지 복사
	yG  커서가 있는 라인 부터 파일의 가장 아랫 부분 까지 복사 

	:n,my    n번째라인부터 m번째 라인까지 복사
	ex) :10,20y


## 잘라내기 붙여넣기
	cut  c	-----> 입력모드 -> ESC -> p paste

	cw  단어를 잘라내기		1c1w == 1x1 cw      2c3w == 6cw
	cc  라인을 잘라내기
	c^  커서가 있는 앞쪽으로 잘라내기
	c$  커서가 있는 뒤쪽으로 잘라내기
	cH  커서가 있는 라인 부터 화면에 보이는 윗 부분 까지 잘라내기
	cL  커서가 있는 라인 부터 화면에 보이는 아랫 부분 까지 잘라내기
	cgg 커서가 있는 라인 부터 파일의 가장 윗 부분 까지 잘라내기
	cG  커서가 있는 라인 부터 파일의 가장 아랫 부분 까지 잘라내기

	:n,mc    n번째라인부터 m번째 라인까지 잘라내기

## 삭제 
### 문자 삭제
	x,X   nx nX 형태   5x 5X
	x 커서가 위치한 뒤로 문자를 삭제
	X 커서가 위치한 앞으로 문자를 삭제


### 단어와 라인삭제
	dw  단어를 삭제		1d1w == 1x1 dw      2d3w == 6dw
	dd  라인을 삭제
	d^  커서가 있는 앞쪽으로 삭제
	d$  커서가 있는 뒤쪽으로 삭제
	dH  커서가 있는 라인 부터 화면에 보이는 윗 부분 까지 삭제
	dL  커서가 있는 라인 부터 화면에 보이는 아랫 부분 까지 삭제
	dgg 커서가 있는 라인 부터 파일의 가장 윗 부분 까지 삭제
	dG  커서가 있는 라인 부터 파일의 가장 아랫 부분 까지 삭제

	:n,md    n번째라인부터 m번째 라인까지 삭제


## 되돌리기
  u undo  U 바로 한칸 앞에꺼로 되돌리기

## 이동
	hjkl  이동  방향키
	^   , $   라인의 앞 , 뒤로 이동
	gg , G   파일의 가장 처음, 마지막 라인으로 이동

	:n   command line 모드에서 숫자를 지정하면  해당 라인으로 이동

## 검색
	/ 커서의 아래로 검색
	? 커서의 위로 검색
	/단어(정규화 표현식 가능)    n next 아래로 검색된 내용 확인 N 위로 검색된 내용 확인
	?단어(정규화 표현식 가능)    n next 위로 검색된 내용 확인 N 아래로 검색된 내용 확인	

## 치환
	:n,ms/찾고자하는 단어(정규화표현식 가능)/바꾸고자하는 단어(정규화표현식 가능)/g

	:10,20s/nologin/hahaha/g  <--한번에 모두 변경
	:10,20s/nologin/hahaha/gc <--선택해서 변경가능  (y/n/a/q/l/^E/^Y)?
	ex) :1,$s/nologin/hahaha/g
	    :1,$s/nologin/hahaha/gc  (y/n/a/q/l/^E/^Y)?
		:s/nologin/hahaha/gc	== :1,$s/nologin/hahaha/gc
			

		y 바꾼다.
		n 안바꾼다.
		a 나머지 모두 바꾼다.
		q 커서 위치의 문자를 바꾸지 않고 종료한다.
		l 커서 위치의 문자까지만 바꾸고 종료한다.
		^E  ^Y <--- 변경을 하다가   아래 위로  변경하고자 하는 부분을 찾아볼때
				(ctrl + 대문자 E Y)

	

## 다중 편집
[root@localhost ~]# ls -l ccc
ls: cannot access 'ccc': 그런 파일이나 디렉터리가 없습니다
[root@localhost ~]# vim aaa ccc

	다중 파일 오픈시 
	:n 과 :N 을 이용하여 다음 파일로 이동 가능
	오픈을 하면 aaa 파일이 오픈되고 :n 하면 ccc 파일이 오픈된다.
	ccc 파일에서 :N 하게 되면 aaa 파일로 이동하게 된다.
	
	만약 3개 이상의 파일을 열어서 동시에 작업 하는 경우
	2개 이상의 파일을 한번에 넘어서 이동할 시 :2n :2N  형태로 명령하면 된다.	

	[주의: 파일의 수정이 발생한 경우 저장이 되지 않은 상태로는 이동이 불가 하다
		반드시 w로 저장을 해주거나 :N! 와 같이 !를 붙여주면 저장 하지 않고 이동 가능하다.


	다중파일 오픈시 :ls 명령을 통해 현재 열린 파일 목록 및 번호 확인
	:ls
	  1      "aaa"                          7 줄
	  2 #    "ccc"                          6 줄
	  3 %a   "eee"                          1 줄

	:b숫자 ( 확인된 파일 별 숫자를 확인 하여 파일이동 시 사용할 수 있다.)


## 환경 셋팅
" Syntax Highlighting
if has ("syntax")
        syntax on
endif

set nu
set autoindent
set cindent


set number " 라인 넘버를 보여준다
set mouse=a " 마우스를 클릭하는 곳으로 커서를 옮긴다

set autoindent "indent를 다음줄에도 유지한다
set smartindent "문법에 맞게 자동으로 indent를 넣어준다
                "(e.g., 괄호 다음줄에 자동으로 indent 적용

autocmd FileType c,cpp,java :set cindent "지정된 filetype에 대해 cindent를 적용한다
set cinoptions=g0,t0 "switch~case문 등 세부 indent를 정의한다
                    "참고(http://vimdoc.sourceforge.net/htmldoc/indent.html)

set tabstop=4 "Tab의 크기를 결정한다
set shiftwidth=4 "indent의 크기를 결정한다
set expandtab "Tab을 공백(space)으로 자동 전환한다

set ignorecase "검색할 때 대소문자 구분을 하지 않는다
set smartcase "검색할 때 대문자를 섞어 사용하면 대소문자 구분하여 검색하고,
                "소문자로만 쓰면 대소문자 구분을 하지 않는다

set incsearch "검색시 단어 전체를 입력하지 않아도, 입력된 글자까지 순차적으로 검색한다
set hlsearch "검색된 단어를 highlight 한다

set title "상단에 파일 이름을 표시해준다
set ruler "하단에 현재 커서의 위치를 표시해준다

colo default "color set을 결정한다

set textwidth=90
set colorcolumn=+1 "91번째줄 색을 바꾼다(line length 맞추기 위한 guideline)
hi ColorColumn ctermbg=235 "세로줄 색깔
